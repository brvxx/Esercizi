#include <stdint.h>
#include <stdio.h>

extern const void* memmem(const void* pagliaio, size_t psize, const void* ago, size_t asize);

int main(void) {

	uint8_t p[] = { 
		0x51, 0x75, 0x65, 0x73, 0x74, 0x61, 0x20, 0xe8, 0x20, 0x75, 0x6e, 0x61, 0x20, 0x73, 0x74, 0x72, 0x69, 0x6e, 0x67, 0x61, 0x20, 0x64,
		0x69, 0x20, 0x70, 0x72, 0x6f, 0x76, 0x61 };
	uint8_t a[5] = { 0x61, 0x20, 0xe8, 0x20, 0x75 };

	const uint8_t* r;
	r = memmem((const void*)p, 29, (const void*)a, 5);
	if (r != NULL) {
		for (size_t i = 0; i < 5; ++i) {
		printf("%X, ", r[i]);
		}
	}
	else {
		fputs("l'ago non sta nel pagliaio", stdout);
	}
	return 0; 
}